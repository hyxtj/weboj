{"ast":null,"code":"import axios from '@/axios';\nexport default {\n  name: 'UserDashboard',\n  data() {\n    return {\n      username: '',\n      signature: '',\n      blog: '',\n      isEditingSignature: false,\n      editSignatureText: '',\n      isEditingBlog: false,\n      editBlogText: ''\n    };\n  },\n  created() {\n    this.fetchUserInfo();\n  },\n  methods: {\n    fetchUserInfo() {\n      axios.get('/profile/me').then(response => {\n        if (response.data.code === 200) {\n          this.username = response.data.data.username;\n          this.signature = response.data.data.signature;\n          this.blog = response.data.data.blog;\n        } else {\n          this.$message.error(response.data.message || '无法获取用户信息');\n        }\n      }).catch(() => {\n        this.$message.error('无法获取用户信息');\n      });\n    },\n    // 签名编辑\n    editSignature() {\n      this.isEditingSignature = true;\n      this.editSignatureText = this.signature;\n    },\n    saveSignature() {\n      if (this.editSignatureText.trim() === '') {\n        this.$message.error('签名不能为空');\n        return;\n      }\n      axios.put('/profile/me', {\n        signature: this.editSignatureText\n      }).then(response => {\n        if (response.data.code === 200) {\n          this.signature = response.data.data.signature;\n          this.isEditingSignature = false;\n          this.$message.success('签名更新成功');\n        } else {\n          this.$message.error(response.data.message || '更新签名失败');\n        }\n      }).catch(() => {\n        this.$message.error('更新签名失败');\n      });\n    },\n    cancelEditSignature() {\n      this.isEditingSignature = false;\n      this.editSignatureText = '';\n    },\n    // 博客编辑\n    editBlog() {\n      this.isEditingBlog = true;\n      this.editBlogText = this.blog;\n    },\n    saveBlog() {\n      if (this.editBlogText.trim() === '') {\n        this.$message.error('博客内容不能为空');\n        return;\n      }\n      axios.put('/profile/me', {\n        blog: this.editBlogText\n      }).then(response => {\n        if (response.data.code === 200) {\n          this.blog = response.data.data.blog;\n          this.isEditingBlog = false;\n          this.$message.success('博客更新成功');\n        } else {\n          this.$message.error(response.data.message || '更新博客失败');\n        }\n      }).catch(() => {\n        this.$message.error('更新博客失败');\n      });\n    },\n    cancelEditBlog() {\n      this.isEditingBlog = false;\n      this.editBlogText = '';\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","username","signature","blog","isEditingSignature","editSignatureText","isEditingBlog","editBlogText","created","fetchUserInfo","methods","get","then","response","code","$message","error","message","catch","editSignature","saveSignature","trim","put","success","cancelEditSignature","editBlog","saveBlog","cancelEditBlog"],"sources":["src/components/Dashboard.vue"],"sourcesContent":["<!--<template>-->\r\n<!--  <div class=\"dashboard\">-->\r\n<!--    <h1>欢迎，{{ username }}！</h1>-->\r\n<!--    <p>这是您的仪表盘。</p>-->\r\n<!--    &lt;!&ndash; 添加更多用户相关内容 &ndash;&gt;-->\r\n<!--  </div>-->\r\n<!--</template>-->\r\n\r\n<!--<script>-->\r\n<!--import axios from '@/axios';-->\r\n\r\n<!--export default {-->\r\n<!--  name: 'UserDashboard', // 修改为多字名称-->\r\n<!--  data() {-->\r\n<!--    return {-->\r\n<!--      username: ''-->\r\n<!--    };-->\r\n<!--  },-->\r\n<!--  created() {-->\r\n<!--    this.fetchUserInfo();-->\r\n<!--  },-->\r\n<!--  methods: {-->\r\n<!--    fetchUserInfo() {-->\r\n<!--      axios.get('/profile/me')-->\r\n<!--        .then(response => {-->\r\n<!--          if (response.data.code === 200) {-->\r\n<!--            this.username = response.data.data.username;-->\r\n<!--          } else {-->\r\n<!--            this.$message.error(response.data.message || '无法获取用户信息');-->\r\n<!--          }-->\r\n<!--        })-->\r\n<!--        .catch(() => {-->\r\n<!--          this.$message.error('无法获取用户信息');-->\r\n<!--        });-->\r\n<!--    }-->\r\n<!--  }-->\r\n<!--};-->\r\n<!--</script>-->\r\n\r\n<!--<style scoped>-->\r\n<!--.dashboard {-->\r\n<!--  padding: 20px;-->\r\n<!--}-->\r\n<!--</style>-->\r\n\r\n<!-- src/components/Dashboard.vue -->\r\n\r\n<template>\r\n  <div class=\"dashboard\">\r\n    <h1>欢迎，{{ username }}！</h1>\r\n    <p>这是您的仪表盘。</p>\r\n\r\n    <!-- 个人签名 -->\r\n    <div class=\"section\">\r\n      <h2>个人签名</h2>\r\n      <p v-if=\"!isEditingSignature\">{{ signature || '您还没有设置签名。' }}</p>\r\n      <el-button v-else type=\"primary\" @click=\"saveSignature\">保存</el-button>\r\n      <el-button v-if=\"!isEditingSignature\" type=\"primary\" @click=\"editSignature\">编辑签名</el-button>\r\n      <el-button v-else @click=\"cancelEditSignature\">取消</el-button>\r\n      <el-input\r\n        v-if=\"isEditingSignature\"\r\n        v-model=\"editSignatureText\"\r\n        placeholder=\"请输入您的签名\"\r\n        clearable\r\n      ></el-input>\r\n    </div>\r\n\r\n    <!-- 个人博客 -->\r\n    <div class=\"section\">\r\n      <h2>个人博客</h2>\r\n      <p v-if=\"!isEditingBlog\">{{ blog || '您还没有撰写博客。' }}</p>\r\n      <el-button v-else type=\"primary\" @click=\"saveBlog\">保存</el-button>\r\n      <el-button v-if=\"!isEditingBlog\" type=\"primary\" @click=\"editBlog\">编辑博客</el-button>\r\n      <el-button v-else @click=\"cancelEditBlog\">取消</el-button>\r\n      <el-input\r\n        type=\"textarea\"\r\n        v-if=\"isEditingBlog\"\r\n        v-model=\"editBlogText\"\r\n        placeholder=\"请输入您的博客内容\"\r\n        clearable\r\n        rows=\"6\"\r\n      ></el-input>\r\n    </div>\r\n\r\n    <!-- 添加更多用户相关内容 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/axios';\r\n\r\nexport default {\r\n  name: 'UserDashboard',\r\n  data() {\r\n    return {\r\n      username: '',\r\n      signature: '',\r\n      blog: '',\r\n      isEditingSignature: false,\r\n      editSignatureText: '',\r\n      isEditingBlog: false,\r\n      editBlogText: ''\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchUserInfo();\r\n  },\r\n  methods: {\r\n    fetchUserInfo() {\r\n      axios.get('/profile/me')\r\n        .then(response => {\r\n          if (response.data.code === 200) {\r\n            this.username = response.data.data.username;\r\n            this.signature = response.data.data.signature;\r\n            this.blog = response.data.data.blog;\r\n          } else {\r\n            this.$message.error(response.data.message || '无法获取用户信息');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message.error('无法获取用户信息');\r\n        });\r\n    },\r\n    // 签名编辑\r\n    editSignature() {\r\n      this.isEditingSignature = true;\r\n      this.editSignatureText = this.signature;\r\n    },\r\n    saveSignature() {\r\n      if (this.editSignatureText.trim() === '') {\r\n        this.$message.error('签名不能为空');\r\n        return;\r\n      }\r\n      axios.put('/profile/me', { signature: this.editSignatureText })\r\n        .then(response => {\r\n          if (response.data.code === 200) {\r\n            this.signature = response.data.data.signature;\r\n            this.isEditingSignature = false;\r\n            this.$message.success('签名更新成功');\r\n          } else {\r\n            this.$message.error(response.data.message || '更新签名失败');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message.error('更新签名失败');\r\n        });\r\n    },\r\n    cancelEditSignature() {\r\n      this.isEditingSignature = false;\r\n      this.editSignatureText = '';\r\n    },\r\n    // 博客编辑\r\n    editBlog() {\r\n      this.isEditingBlog = true;\r\n      this.editBlogText = this.blog;\r\n    },\r\n    saveBlog() {\r\n      if (this.editBlogText.trim() === '') {\r\n        this.$message.error('博客内容不能为空');\r\n        return;\r\n      }\r\n      axios.put('/profile/me', { blog: this.editBlogText })\r\n        .then(response => {\r\n          if (response.data.code === 200) {\r\n            this.blog = response.data.data.blog;\r\n            this.isEditingBlog = false;\r\n            this.$message.success('博客更新成功');\r\n          } else {\r\n            this.$message.error(response.data.message || '更新博客失败');\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message.error('更新博客失败');\r\n        });\r\n    },\r\n    cancelEditBlog() {\r\n      this.isEditingBlog = false;\r\n      this.editBlogText = '';\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.dashboard {\r\n  padding: 20px;\r\n  max-width: 800px;\r\n  margin: 0 auto;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.section {\r\n  margin-bottom: 40px;\r\n  padding: 20px;\r\n  background-color: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.section h2 {\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n}\r\n\r\n\r\n.section p {\r\n  font-size: 16px;\r\n  margin-bottom: 10px;\r\n  color: #555;\r\n}\r\n\r\n.section .el-button {\r\n  margin-right: 10px;\r\n}\r\n\r\n.el-input {\r\n  margin-top: 10px;\r\n  width: 100%;\r\n}\r\n</style>"],"mappings":"AAyFA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,SAAA;MACAC,IAAA;MACAC,kBAAA;MACAC,iBAAA;MACAC,aAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,aAAA;EACA;EACAC,OAAA;IACAD,cAAA;MACAX,KAAA,CAAAa,GAAA,gBACAC,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAb,IAAA,CAAAc,IAAA;UACA,KAAAb,QAAA,GAAAY,QAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAC,QAAA;UACA,KAAAC,SAAA,GAAAW,QAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAE,SAAA;UACA,KAAAC,IAAA,GAAAU,QAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAG,IAAA;QACA;UACA,KAAAY,QAAA,CAAAC,KAAA,CAAAH,QAAA,CAAAb,IAAA,CAAAiB,OAAA;QACA;MACA,GACAC,KAAA;QACA,KAAAH,QAAA,CAAAC,KAAA;MACA;IACA;IACA;IACAG,cAAA;MACA,KAAAf,kBAAA;MACA,KAAAC,iBAAA,QAAAH,SAAA;IACA;IACAkB,cAAA;MACA,SAAAf,iBAAA,CAAAgB,IAAA;QACA,KAAAN,QAAA,CAAAC,KAAA;QACA;MACA;MACAlB,KAAA,CAAAwB,GAAA;QAAApB,SAAA,OAAAG;MAAA,GACAO,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAb,IAAA,CAAAc,IAAA;UACA,KAAAZ,SAAA,GAAAW,QAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAE,SAAA;UACA,KAAAE,kBAAA;UACA,KAAAW,QAAA,CAAAQ,OAAA;QACA;UACA,KAAAR,QAAA,CAAAC,KAAA,CAAAH,QAAA,CAAAb,IAAA,CAAAiB,OAAA;QACA;MACA,GACAC,KAAA;QACA,KAAAH,QAAA,CAAAC,KAAA;MACA;IACA;IACAQ,oBAAA;MACA,KAAApB,kBAAA;MACA,KAAAC,iBAAA;IACA;IACA;IACAoB,SAAA;MACA,KAAAnB,aAAA;MACA,KAAAC,YAAA,QAAAJ,IAAA;IACA;IACAuB,SAAA;MACA,SAAAnB,YAAA,CAAAc,IAAA;QACA,KAAAN,QAAA,CAAAC,KAAA;QACA;MACA;MACAlB,KAAA,CAAAwB,GAAA;QAAAnB,IAAA,OAAAI;MAAA,GACAK,IAAA,CAAAC,QAAA;QACA,IAAAA,QAAA,CAAAb,IAAA,CAAAc,IAAA;UACA,KAAAX,IAAA,GAAAU,QAAA,CAAAb,IAAA,CAAAA,IAAA,CAAAG,IAAA;UACA,KAAAG,aAAA;UACA,KAAAS,QAAA,CAAAQ,OAAA;QACA;UACA,KAAAR,QAAA,CAAAC,KAAA,CAAAH,QAAA,CAAAb,IAAA,CAAAiB,OAAA;QACA;MACA,GACAC,KAAA;QACA,KAAAH,QAAA,CAAAC,KAAA;MACA;IACA;IACAW,eAAA;MACA,KAAArB,aAAA;MACA,KAAAC,YAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}