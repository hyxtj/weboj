{"ast":null,"code":"export default {\n  name: 'SubmitCode',\n  data() {\n    return {\n      formLabelWidth: '100px',\n      selectedLanguage: '',\n      languages: [{\n        label: 'C++',\n        value: 'cpp'\n      }, {\n        label: 'Java',\n        value: 'java'\n      }, {\n        label: 'Python',\n        value: 'python'\n      }\n      // 可以添加更多语言\n      ],\n      code: '',\n      userId: 1,\n      // 假设用户ID为1\n      username: '用户',\n      // 假设用户名为“用户”\n      problem: {\n        id: this.$route.params.problemId,\n        title: '示例题目' // 应从后端获取\n      }\n    };\n  },\n  methods: {\n    submitCode() {\n      if (!this.selectedLanguage) {\n        this.$message.error('请选择编程语言');\n        return;\n      }\n      if (!this.code) {\n        this.$message.error('代码不能为空');\n        return;\n      }\n      const payload = {\n        userId: this.userId,\n        problemId: this.problem.id,\n        language: this.selectedLanguage,\n        code: this.code\n      };\n      this.$axios.post('/api/submit', payload).then(() => {\n        this.$message.success('代码提交成功');\n        // 清空表单\n        this.selectedLanguage = '';\n        this.code = '';\n      }).catch(error => {\n        console.error('提交失败:', error);\n        this.$message.error('代码提交失败，请重试');\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","formLabelWidth","selectedLanguage","languages","label","value","code","userId","username","problem","id","$route","params","problemId","title","methods","submitCode","$message","error","payload","language","$axios","post","then","success","catch","console"],"sources":["src/components/SubmitCode.vue"],"sourcesContent":["<template>\r\n  <div class=\"submit-code-container\">\r\n    <div class=\"form-section\">\r\n      <el-form @submit.native.prevent=\"submitCode\">\r\n        <el-form-item label=\"编程语言\" :label-width=\"formLabelWidth\">\r\n          <el-select v-model=\"selectedLanguage\" placeholder=\"请选择编程语言\">\r\n            <el-option\r\n              v-for=\"lang in languages\"\r\n              :key=\"lang.value\"\r\n              :label=\"lang.label\"\r\n              :value=\"lang.value\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"代码\" :label-width=\"formLabelWidth\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"20\"\r\n            v-model=\"code\"\r\n            placeholder=\"在此输入代码\"\r\n            autosize>\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitCode\">提交代码</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"info-section\">\r\n      <div class=\"user-info\">\r\n        <h3>用户信息</h3>\r\n        <p>用户名: {{ username }}</p>\r\n        <p>用户ID: {{ userId }}</p>\r\n      </div>\r\n      <div class=\"problem-info\">\r\n        <h3>题目信息</h3>\r\n        <p>题目ID: {{ problem.id }}</p>\r\n        <p>题目标题: {{ problem.title }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SubmitCode',\r\n  data() {\r\n    return {\r\n      formLabelWidth: '100px',\r\n      selectedLanguage: '',\r\n      languages: [\r\n        { label: 'C++', value: 'cpp' },\r\n        { label: 'Java', value: 'java' },\r\n        { label: 'Python', value: 'python' },\r\n        // 可以添加更多语言\r\n      ],\r\n      code: '',\r\n      userId: 1, // 假设用户ID为1\r\n      username: '用户', // 假设用户名为“用户”\r\n      problem: {\r\n        id: this.$route.params.problemId,\r\n        title: '示例题目' // 应从后端获取\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    submitCode() {\r\n      if (!this.selectedLanguage) {\r\n        this.$message.error('请选择编程语言');\r\n        return;\r\n      }\r\n      if (!this.code) {\r\n        this.$message.error('代码不能为空');\r\n        return;\r\n      }\r\n\r\n      const payload = {\r\n        userId: this.userId,\r\n        problemId: this.problem.id,\r\n        language: this.selectedLanguage,\r\n        code: this.code\r\n      };\r\n\r\n      this.$axios.post('/api/submit', payload)\r\n        .then(() => {\r\n          this.$message.success('代码提交成功');\r\n          // 清空表单\r\n          this.selectedLanguage = '';\r\n          this.code = '';\r\n        })\r\n        .catch(error => {\r\n          console.error('提交失败:', error);\r\n          this.$message.error('代码提交失败，请重试');\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.submit-code-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  padding: 20px;\r\n  background-color: rgba(255, 255, 255, 0.95);\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.form-section {\r\n  flex: 2 1 60%;\r\n  padding: 20px;\r\n}\r\n\r\n.info-section {\r\n  flex: 1 1 30%;\r\n  padding: 20px;\r\n  margin-left: 20px;\r\n}\r\n\r\n.user-info, .problem-info {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.user-info h3, .problem-info h3 {\r\n  margin-bottom: 10px;\r\n  color: #007bff;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .submit-code-container {\r\n    flex-direction: column;\r\n  }\r\n  .info-section {\r\n    margin-left: 0;\r\n    margin-top: 20px;\r\n  }\r\n}\r\n</style>"],"mappings":"AA8CA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,cAAA;MACAC,gBAAA;MACAC,SAAA,GACA;QAAAC,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,KAAA;QAAAC,KAAA;MAAA;MACA;MAAA,CACA;MACAC,IAAA;MACAC,MAAA;MAAA;MACAC,QAAA;MAAA;MACAC,OAAA;QACAC,EAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAC,SAAA;QACAC,KAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,UAAAd,gBAAA;QACA,KAAAe,QAAA,CAAAC,KAAA;QACA;MACA;MACA,UAAAZ,IAAA;QACA,KAAAW,QAAA,CAAAC,KAAA;QACA;MACA;MAEA,MAAAC,OAAA;QACAZ,MAAA,OAAAA,MAAA;QACAM,SAAA,OAAAJ,OAAA,CAAAC,EAAA;QACAU,QAAA,OAAAlB,gBAAA;QACAI,IAAA,OAAAA;MACA;MAEA,KAAAe,MAAA,CAAAC,IAAA,gBAAAH,OAAA,EACAI,IAAA;QACA,KAAAN,QAAA,CAAAO,OAAA;QACA;QACA,KAAAtB,gBAAA;QACA,KAAAI,IAAA;MACA,GACAmB,KAAA,CAAAP,KAAA;QACAQ,OAAA,CAAAR,KAAA,UAAAA,KAAA;QACA,KAAAD,QAAA,CAAAC,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}